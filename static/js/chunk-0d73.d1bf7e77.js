(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0d73"],{"1BVE":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},["0xb2fb14fcc984b4d0e68c13ecf821623356c10169"==t.web3Account||"0x1e3d5ce267d4def12fc14fc6ee0cf29650d8a8f0"==t.web3Account||"0x6f7673a6823fabec37897e90c70a667f60d003d3"==t.web3Account?n("div",[n("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.admin()}}},[t._v("\n            admin \n    ")])],1):t._e(),t._v(" "),1==t.chainId&&t.domains.length>0?n("div",{staticClass:"opensea-info"},[n("span",[t._v(t._s(t.$t("search.listOnOpensea")))]),n("a",{attrs:{href:"https://opensea.io/collection/trust-domains/",target:"_blank"}},[t._v("https://opensea.io/collection/trust-domains")])]):t._e(),t._v(" "),t.isShoudMoreLong?n("div",{staticClass:"should-more-long"},[t._v("\n    "+t._s(t.$t("app.pleaseSearch5length"))+"\n  ")]):t._e(),t._v(" "),t._l(t.domains,(function(e,a){return t.errorTLD?t._e():n("div",{staticClass:"search-row-wrapper"},[n("div",{staticClass:"search-domain-row",class:{borderBottomHidden:!t.isActive}},[n("div",{staticClass:"left"},[n("div",{staticClass:"coin-svg"},[".cfx"==e.tokenURI.substr(-4)?n("svg-icon",{attrs:{"icon-class":"cfx"}}):t._e(),t._v(" "),".bnb"==e.tokenURI.substr(-4)?n("svg-icon",{attrs:{"icon-class":"bnb"}}):t._e(),t._v(" "),"defi"==e.tokenURI.substr(-4)?n("svg-icon",{attrs:{"icon-class":"eth"}}):t._e(),t._v(" "),".ht"==e.tokenURI.substr(-3)?n("svg-icon",{attrs:{"icon-class":"ht"}}):t._e()],1),t._v(" "),n("div",{staticClass:"coin-domain"},[t._v(t._s(e.tokenURI))])]),t._v(" "),1==t.chainId?n("div",{staticClass:"right"},[e.isExist?t._e():n("span",[n("el-button",{attrs:{type:"primary",plain:""}},[t._v("\n            "+t._s(t.$t("app.notStart"))+"\n          ")])],1),t._v(" "),e.isExist?n("span",[n("el-button",{attrs:{type:"primary",plain:""},on:{click:function(n){t.goToOpenSea(e.tokenId)}}},[t._v("\n            OpenSea\n          ")])],1):t._e()]):n("div",{staticClass:"right"},[e.isExist?t._e():n("span",{staticClass:"price"},[t._v(t._s(e.price?"$"+e.price:""))]),t._v(" "),e.isPremium?n("span",{staticClass:"premium"},[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.$t("app.premium"),placement:"top"}},[n("svg-icon",{attrs:{"icon-class":"crown"}})],1)],1):t._e(),t._v(" "),e.isExist?n("el-button",{attrs:{type:"primary",plain:"",loading:!1}},[t._v(t._s(t.$t("app.alreadyRegistry")))]):t._e(),t._v(" "),!e.isExist&&e.tokenURI.split(".")[0].length>=5?n("el-button",{attrs:{type:"primary",plain:"",loading:!1},on:{click:function(n){t.toogle(e.price)}}},[t._v(t._s(t.$t("app.avaiableRegistry")))]):t._e(),t._v(" "),e.tokenURI.split(".")[0].length<5&&!e.isExist?n("el-button",{attrs:{type:"primary",plain:"",loading:!1,disabled:""}},[t._v(t._s(t.$t("app.notStart")))]):t._e()],1)]),t._v(" "),n("collapse",[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"buy-container"},[n("div",{staticClass:"container"},[n("div",{staticClass:"title"},["CFX"==t.chainType?n("span",[t._v(t._s(t.$t("search.payBycUSDT")))]):t._e(),t._v(" "),"BNB"==t.chainType?n("span",[t._v(t._s(t.$t("search.payByBUSDT")))]):t._e(),t._v(" "),"ETH"==t.chainType?n("span",[t._v(t._s(t.$t("search.payByUSDT")))]):t._e(),t._v(" "),"HT"==t.chainType?n("span",[t._v(t._s(t.$t("search.payByHUSD")))]):t._e()]),t._v(" "),n("div",{staticClass:"order"},[n("div",{staticClass:"row"},[n("div",{staticClass:"amount"},[n("div",{staticClass:"left"},[t._v(t._s(t.$t("search.amount")))]),t._v(" "),n("div",{staticClass:"right"},[t._v(t._s(t.$t("app.balance"))+" "),t._v(" "+t._s(t.busdtBalance.toFixed(2))+"\n                    "),"CFX"==t.chainType?n("span",[t._v("cUSDT")]):t._e(),t._v(" "),"BNB"==t.chainType?n("span",[t._v("BUSDT")]):t._e(),t._v(" "),"ETH"==t.chainType?n("span",[t._v("USDT")]):t._e(),t._v(" "),"HT"==t.chainType?n("span",[t._v("HUSDT")]):t._e()])]),t._v(" "),n("div",{staticStyle:{"margin-top":"5px"}},[n("el-input",{attrs:{placeholder:""},model:{value:t.inputPrice2,callback:function(e){t.inputPrice2=e},expression:"inputPrice2"}},[n("i",{staticStyle:{display:"flex","align-items":"center",width:"30px",height:"30px","margin-top":"5px"},attrs:{slot:"suffix"},slot:"suffix"},[n("svg-icon",{attrs:{"icon-class":"tether"}})],1)])],1)]),t._v(" "),"CFX"==t.chainType?n("div",{staticClass:"row"},[n("div",{staticClass:"tips"},[n("a",{attrs:{target:"_blank",href:"https://www.confluxscan.io/token/0x8b8689c7f3014a4d86e4d1d0daaf74a47f5e0f27"}},[t._v(t._s(t.$t("search.cUSDTPeg")))])])]):t._e(),t._v(" "),"BNB"==t.chainType?n("div",{staticClass:"row"},[n("div",{staticClass:"tips"},[n("a",{attrs:{target:"_blank",href:"https://bscscan.com/token/0x55d398326f99059ff775485246999027b3197955"}},[t._v(t._s(t.$t("search.bUSDTPeg")))])])]):t._e(),t._v(" "),"ETH"==t.chainType?n("div",{staticClass:"row"},[n("div",{staticClass:"tips"},[n("a",{attrs:{target:"_blank",href:"https://etherscan.io/address/0xdac17f958d2ee523a2206206994597c13d831ec7"}},[t._v(t._s(t.$t("search.USDTPeg")))])])]):t._e(),t._v(" "),"HT"==t.chainType?n("div",{staticClass:"row"},[n("div",{staticClass:"tips"},[n("a",{attrs:{target:"_blank",href:"https://scan.hecochain.com/token/0xa71edc38d189767582c38a3145b5873052c3e47a"}},[t._v(t._s(t.$t("search.HUSDPeg")))])])]):t._e()]),t._v(" "),n("div",{staticClass:"button-box",staticStyle:{"margin-top":"5px"}},[t.isApproved?n("el-button",{attrs:{loading:t.isPaying,disabled:t.isSuccessPayed,type:"primary"},on:{click:function(e){t.buy()}}},[t._v(t._s(t.$t("search.pay")))]):t._e(),t._v(" "),t.isApproved?t._e():n("el-button",{attrs:{loading:t.isApproving,plain:"",type:"primary"},on:{click:function(e){t.approve()}}},[t._v(t._s(t.$t("search.approve")))])],1)]),t._v(" "),"CFX"==t.chainType?n("div",{staticClass:"container"},[n("div",{staticStyle:{"margin-top":"30px","margin-bottom":"30px",color:"#bbb"}},[t._v("\n            - "+t._s(t.$t("search.or"))+" -\n          ")]),t._v(" "),n("div",{staticClass:"title"},[n("span",[t._v(t._s(t.$t("search.payByCFX")))])]),t._v(" "),n("div",{staticClass:"order"},[n("div",{staticClass:"row"},[n("div",{staticClass:"amount"},[n("div",{staticClass:"left"},[t._v(t._s(t.$t("search.amount")))]),t._v(" "),n("div",{staticClass:"right"},[t._v(t._s(t.$t("app.balance"))+" "+t._s(t.formatBalance(t.cfxBalance))+" \n                    "),n("span",[t._v("CFX")])])]),t._v(" "),n("div",{staticStyle:{"margin-top":"5px"}},[n("el-input",{attrs:{placeholder:""},model:{value:t.cfxInputPrice2,callback:function(e){t.cfxInputPrice2=e},expression:"cfxInputPrice2"}},[n("i",{staticStyle:{display:"flex","align-items":"center",width:"30px",height:"30px","margin-top":"5px"},attrs:{slot:"suffix"},slot:"suffix"},[n("svg-icon",{attrs:{"icon-class":"cfx"}})],1)])],1)])]),t._v(" "),n("div",{staticClass:"button-box",staticStyle:{"margin-top":"5px"}},[n("el-button",{attrs:{loading:t.isCFXPaying,disabled:t.isCFXSuccessPayed,type:"primary"},on:{click:function(e){t.cfxBuy()}}},[t._v(t._s(t.$t("search.pay")))])],1)]):t._e()])])],1)})),t._v(" "),t.errorTLD?n("div",{staticClass:"search-domain-row"},[n("div",{staticClass:"left"},[n("div",{staticClass:"coin-domain",staticStyle:{color:"#F86161","font-size":"18px"}},[t._v(t._s(t.$t("app.errorTLD")))])])]):t._e(),t._v(" "),3==t.chainId?n("div",[0!=t.domains.length||t.errorTLD?t._e():n("div",{staticClass:"testnet-tips"},[t._v("\n     "+t._s(t.$t("testnet.defi"))+"\n    ")])]):t._e(),t._v(" "),0!=t.domains.length||t.errorTLD?t._e():n("div",{staticClass:"live-on"},[n("div",{staticClass:"live-on-wrap"},[n("div",{class:{selected:"ETH"==t.chainType}},[n("svg-icon",{staticStyle:{width:"30px",height:"30px"},attrs:{"icon-class":"eth"}})],1),t._v(" "),n("div",{class:{selected:"BNB"==t.chainType}},[n("svg-icon",{staticStyle:{width:"30px",height:"30px"},attrs:{"icon-class":"bnb"}})],1),t._v(" "),n("div",{class:{selected:"HT"==t.chainType}},[n("svg-icon",{staticStyle:{width:"30px",height:"30px"},attrs:{"icon-class":"ht"}})],1)])]),t._v(" "),0!=t.domains.length||t.errorTLD?t._e():n("div",{staticClass:"error-domains-row"},[n("span",[n("svg-icon",{attrs:{"icon-class":"searching"}})],1),t._v(" "),n("span",[t._v(t._s(t.$t("app.findYourDomain")))])])],2)},s=[];n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return s}))},"3Ci3":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MAX_UINT256=e.ZERO_BYTES32=e.ZERO_ADDRESS=void 0;var a=n("W6Pm");e.ZERO_ADDRESS="0x0000000000000000000000000000000000000000",e.ZERO_BYTES32="0x0000000000000000000000000000000000000000000000000000000000000000",e.MAX_UINT256=new a.BN("2").pow(new a.BN("256")).sub(new a.BN("1"))},Ddmz:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=e.supportTld=["cfx","bnb","defi","ht"];e.default={supportTld:a}},Iawr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Notification=void 0;var a=r(n("iCc5")),s=r(n("V7oC"));function r(t){return t&&t.__esModule?t:{default:t}}var i=e.Notification=function(){function t(){(0,a.default)(this,t)}return(0,s.default)(t,null,[{key:"notify",value:function(t,e,n,a,s){t.$notify({title:e,message:n,type:a,duration:s})}},{key:"info",value:function(t,e,n,a){t.$notify.info({title:e,message:n,duration:a})}},{key:"success",value:function(t,e,n,a){t.$notify({title:e,message:n,type:"success",duration:a})}},{key:"error",value:function(t,e,n,a){t.$notify.error({title:e,message:n,duration:a})}}]),t}();e.default=i},Jml6:function(t,e,n){"use strict";n.r(e);var a=n("TaJd"),s=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e.default=s.a},KCoV:function(t){t.exports=[{inputs:[{internalType:"address",name:"factory",type:"address"},{internalType:"uint256",name:"totalSupply",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}]},MGCb:function(t){t.exports=[{inputs:[{internalType:"contract Registry",name:"registry",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"string",name:"key",type:"string"}],name:"NewKey",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"contentId",type:"uint256"}],name:"ResetContentId",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"contentId",type:"uint256"}],name:"ResetKeyId",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"string",name:"keyIndex",type:"string"},{indexed:!0,internalType:"string",name:"valueIndex",type:"string"},{indexed:!1,internalType:"string",name:"key",type:"string"},{indexed:!1,internalType:"string",name:"value",type:"string"}],name:"Set",type:"event"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"reset",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"allKeys",outputs:[{internalType:"string[]",name:"keys",type:"string[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"allRecords",outputs:[{internalType:"string[]",name:"keys",type:"string[]"},{internalType:"string[]",name:"values",type:"string[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"key",type:"string"},{internalType:"string",name:"value",type:"string"}],name:"set",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"key",type:"string"}],name:"get",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string[]",name:"keys",type:"string[]"},{internalType:"string[]",name:"values",type:"string[]"}],name:"setMulti",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string[]",name:"keys",type:"string[]"}],name:"getMulti",outputs:[{internalType:"string[]",name:"",type:"string[]"}],stateMutability:"view",type:"function"}]},OGYZ:function(t){t.exports=[{inputs:[{internalType:"contract MinterController",name:"minterController",type:"address"},{internalType:"address",name:"resolver",type:"address"},{internalType:"contract ERC20Interface",name:"usdt",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"_usdtToken",outputs:[{internalType:"contract ERC20Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"label",type:"string"}],name:"buy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newOwner",type:"address"}],name:"changeOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"label",type:"string"}],name:"price",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"string",name:"s",type:"string"}],name:"strlen",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"}]},OtWP:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfluxBuy=void 0;var a=u(n("14Xm")),s=u(n("D3Ub")),r=u(n("iCc5")),i=u(n("V7oC"));n("kB5k");function u(t){return t&&t.__esModule?t:{default:t}}var o=n("ewEw"),p=n("jzF0"),c=p.Conflux,l=p.format,d=p.Drip,y=n("V7M8"),f=e.ConfluxBuy=function(){function t(e,n){(0,r.default)(this,t),this.conflux=window.confluxJS,this.confluxReader=new c({url:o[e][n].provider,defaultGasPrice:100,defaultGas:1e7}),this.contract=this.conflux.Contract({abi:y,address:o[e][n].buyMinter})}var e,n,u;return(0,i.default)(t,[{key:"cfxBuy",value:(u=(0,s.default)(a.default.mark((function t(e,n){var s,r,i;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=this.contract.cfxBuy(e),t.next=3,s.estimateGasAndCollateral({from:this.conflux.defaultAccount});case 3:return r=t.sent,t.next=6,this.conflux.getNextNonce(this.conflux.defaultAccount);case 6:return i=t.sent,t.next=9,s.sendTransaction({from:this.conflux.defaultAccount,value:d.fromCFX(n),gas:l.big(r.gasUsed).times(1.1).toFixed(0),gasPrice:1,nonce:i,storageLimit:r.storageCollateralized}).executed();case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}}),t,this)}))),function(t,e){return u.apply(this,arguments)})},{key:"cfxPrice",value:(n=(0,s.default)(a.default.mark((function t(e){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.contract.cfxPrice(e).call();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"buy",value:(e=(0,s.default)(a.default.mark((function t(e){var n,s;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.contract.buy(e),t.next=4,n.estimateGasAndCollateral({from:this.conflux.defaultAccount});case 4:return s=t.sent,t.next=7,n.sendTransaction({from:this.conflux.defaultAccount,value:0,gas:l.big(s.gasUsed).times(1.1).toFixed(0),gasPrice:1,storageLimit:s.storageCollateralized}).executed();case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),t}();e.default=f},TaJd:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=h(n("14Xm")),s=h(n("D3Ub")),r=n("Iawr"),i=n("3Ci3"),u=n("kB5k"),o=(h(n("0dc3")),h(n("WEEN"))),p=h(n("mG4U")),c=n("Ddmz"),l=h(n("YgiN")),d=(h(n("rfZM")),h(n("OtWP")),h(n("JpVX"))),y=h(n("y4m1")),f=h(n("o3DP"));h(n("+zsH"));function h(t){return t&&t.__esModule?t:{default:t}}var m,v,b,g,x,T,w,k,_,I=n("LAvi"),C=n("ewEw");e.default={components:{collapse:o.default},data:function(){return{domains:[],parseDomain:[],isShoudMoreLong:!1,errorTLD:!1,cns:null,cusdt:null,cbuy:null,cusdtBalance:0,busdtBalance:0,isActive:!1,inputPrice:"",cfxInputPrice:"",isApproved:!1,isApproving:!1,isPaying:!1,isSuccessPayed:!1,isCFXPaying:!1,isCFXSuccessPayed:!1,confluxUsdtInstance:null,confluxBuyInstance:null,web3BuyInstance:null,web3UsdtInstance:null}},computed:{web3Account:function(){return this.$store.state.web3.account},cfxBalance:function(){return this.$store.state.web3.balance},chainType:function(){return this.$store.state.web3.chainType},chainId:function(){return this.$store.state.web3.chainId},cfxInputPrice2:{get:function(){return this.cfxInputPrice},set:function(t){}},inputPrice2:{get:function(){return this.inputPrice},set:function(t){}},chainChanged:function(){return this.$store.state.web3.chainType}},mounted:(_=(0,s.default)(a.default.mark((function t(){var e;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this,this.$nextTick((function(){e.init(),e.searchDomain()}));case 2:case"end":return t.stop()}}),t,this)}))),function(){return _.apply(this,arguments)}),created:function(){this.getEventData()},watch:{inputPrice2:function(){this.init()},chainChanged:function(){console.log("chain changed"),this.$store.dispatch("updateCFXDomainPage",0),this.$store.dispatch("updateBNBDomainPage",0),this.$nextTick((function(){this.init(),this.searchDomain()}))}},methods:{init:(k=(0,s.default)(a.default.mark((function t(){var e;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("ETH"!=this.chainType&&(this.web3BuyInstance=new y.default(this.web3Account,this.chainType,this.chainId)),this.web3UsdtInstance=new f.default(this.web3Account,this.chainType,this.chainId),!this.web3Account){t.next=7;break}return t.next=5,this.web3UsdtInstance.balanceOf(this.web3Account);case 5:e=t.sent,this.busdtBalance=e/Math.pow(10,18);case 7:this.getApprovedUSDT();case 8:case"end":return t.stop()}}),t,this)}))),function(){return k.apply(this,arguments)}),admin:function(){this.$router.push({path:"/admin"})},goToOpenSea:function(t){window.open("https://opensea.io/assets/0xdef10006363548e9c181fad2976142b7947d9070/"+t)},loadCFXPrice:(w=(0,s.default)(a.default.mark((function t(e){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.confluxBuyInstance.cfxPrice(e);case 2:this.cfxInputPrice=t.sent;case 3:case"end":return t.stop()}}),t,this)}))),function(t){return w.apply(this,arguments)}),cfxBuy:(T=(0,s.default)(a.default.mark((function t(){var e,n,s;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.parseDomain[0].split("."),n=e[0],s=new u.BigNumber(this.cfxInputPrice2),console.log(s),this.isCFXPaying=!0,r.Notification.info(this,this.$t("search.pay"),this.$t("notify.sureWallet"),5e3),t.prev=6,t.next=9,this.confluxBuyInstance.cfxBuy(n,s);case 9:this.$store.dispatch("updateCFXDomainPage",0),r.Notification.success(this,this.$t("notify.success"),this.$t("search.buySuccess"),3e3),this.isCFXPaying=!1,this.isCFXSuccessPayed=!0,this.$store.dispatch("updateCFXBalance",this.web3Account),t.next=21;break;case 16:return t.prev=16,t.t0=t.catch(6),4001==t.t0.code?r.Notification.error(this,this.$t("app.error"),this.$t("notify.userDenied"),5e3):r.Notification.error(this,this.$t("app.error"),this.$t("notify.payError"),5e3),this.isCFXPaying=!1,t.abrupt("return");case 21:case"end":return t.stop()}}),t,this,[[6,16]])}))),function(){return T.apply(this,arguments)}),buy:(x=(0,s.default)(a.default.mark((function t(){var e,n,i,o,p=this;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.parseDomain[0].split("."),n=e[0],i=new u.BigNumber(this.inputPrice)*Math.pow(10,18),console.log(n),console.log(i),this.isPaying=!0,r.Notification.info(this,this.$t("search.pay"),this.$t("notify.sureWallet"),5e3),console.log(this.isPaying),o=this,this.web3BuyInstance.buy(n,(function(t,e){})).then(function(){var t=(0,s.default)(a.default.mark((function t(e){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.Notification.success(o,o.$t("notify.success"),o.$t("search.buySuccess"),3e3),p.$store.dispatch("updateBNBDomainPage",0),p.isPaying=!1,p.isSuccessPayed=!0,p.init();case 5:case"end":return t.stop()}}),t,p)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){4001==t.code?r.Notification.error(p,p.$t("app.error"),p.$t("notify.userDenied"),5e3):r.Notification.error(p,p.$t("app.error"),p.$t("notify.payError"),5e3),p.isPaying=!1}));case 10:case"end":return t.stop()}}),t,this)}))),function(){return x.apply(this,arguments)}),approve:(g=(0,s.default)(a.default.mark((function t(){var e,n=this;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!=this.web3Account){t.next=3;break}return r.Notification.error(this,this.$t("app.error"),this.$t("app.errorNoConnect"),5e3),t.abrupt("return");case 3:r.Notification.info(this,this.$t("search.approve"),this.$t("notify.sureWallet"),5e3),this.isApproving=!0,e=this,this.web3UsdtInstance.approve(C[this.chainType][this.chainId].buyMinter,i.MAX_UINT256,(function(t,e){})).then(function(){var t=(0,s.default)(a.default.mark((function t(s){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.Notification.success(e,e.$t("notify.success"),e.$t("notify.approveSuccess"),5e3),e.getApprovedUSDT();case 2:case"end":return t.stop()}}),t,n)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){4001==t.code?r.Notification.error(e,e.$t("app.error"),e.$t("notify.userDenied"),5e3):r.Notification.error(e,e.$t("app.error"),e.$t("notify.approveError"),5e3),n.isApproving=!1}));case 7:case"end":return t.stop()}}),t,this)}))),function(){return g.apply(this,arguments)}),getApprovedUSDT:(b=(0,s.default)(a.default.mark((function t(){var e;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!=this.web3Account){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.web3UsdtInstance.allowance(this.web3Account,C[this.chainType][this.chainId].buyMinter);case 4:e=t.sent,console.log(e/1),e>=this.inputPrice*Math.pow(10,18)?this.isApproved=!0:this.isApproved=!1;case 7:case"end":return t.stop()}}),t,this)}))),function(){return b.apply(this,arguments)}),toogle:(v=(0,s.default)(a.default.mark((function t(e){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.inputPrice=e.toFixed(2),this.isActive=!this.isActive,this.isActive&&(this.isApproving=!1,this.isPaying=!1);case 3:case"end":return t.stop()}}),t,this)}))),function(t){return v.apply(this,arguments)}),searchDomain:function(){""!=this.$route.query.name&&(this.domain=this.$route.query.name,this.$store.dispatch("SearchDomain",this.domain),null!=this.domain&&this.handleTimeOut())},formatBalance:function(t){return t.toFixed(2)},getEventData:function(){var t=this;p.default.$on("searchEventFromSearchBar",(function(e){var n=e;t.domain=n,t.$router.push({path:"/search",query:{name:n}}),t.parseDomainFun(n)}))},parseDomainFun:function(t){this.isSuccessPayed=!1,this.isCFXSuccessPayed=!1;var e=t.replace(/[^a-z0-9.]/g,"");this.isActive=!1;for(var n=e.length,a=0,s=0;s<n;s++)"."==e.charAt(s)&&(a+=1);if(0==a){var r=new Array;for(var i in c.supportTld)r.push(e+"."+c.supportTld[i]);this.parseDomain=r,this.errorTLD=!1}else{if(1!=a&&2!=a)return this.errorTLD=!0,void console.log("Error TLD");var u=e.split("."),o=u.slice(-1)[0];if(o.length>0&&-1==c.supportTld.indexOf(o))return console.log("Error TLD"),void(this.errorTLD=!0);this.errorTLD=!1;r=new Array;for(var i in c.supportTld)1==a?r.push(u.slice(0,1)[0]+"."+c.supportTld[i]):2==a&&r.push(u.slice(0,1)[0]+"."+u.slice(1,2)[0]+"."+c.supportTld[i]);this.parseDomain=r}this.getDomainInfo(this.parseDomain)},handleTimeOut:function(){var t=this;setTimeout((function(){t.parseDomainFun(t.domain)}),500)},getDomainInfo:(m=(0,s.default)(a.default.mark((function t(e){var n,s,r,i,u,o;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.openLoading(),new l.default(this.chainType,this.chainId),n=new d.default(this.web3Account,this.chainType,this.chainId),s=[],r=0;case 5:if(!(r<this.parseDomain.length)){t.next=66;break}if(i={},".bnb"!=e[r].substr(-4)||"BNB"!=this.chainType){t.next=26;break}return t.next=10,n.exists(e[r]);case 10:return u=t.sent,i.isExist=u,i.resolver="",i.tokenURI=e[r],i.owner="owner",i.isPremium=e[r].split(".")[0].length<=5,this.isShoudMoreLong=e[r].split(".")[0].length<5,t.next=22,this.web3BuyInstance.price(e[r].split(".")[0]);case 22:o=t.sent,i.price=o/Math.pow(10,18),e[r].split(".")[0].length<5&&(i.price=""),s.push(i);case 26:if("defi"!=e[r].substr(-4)||"ETH"!=this.chainType){t.next=44;break}return t.next=29,n.exists(e[r]);case 29:u=t.sent,i.isExist=u,i.resolver="",i.tokenURI=e[r],i.owner="owner",i.isPremium=e[r].split(".")[0].length<=5,i.tokenId=I.hash(e[r]),this.isShoudMoreLong=e[r].split(".")[0].length<5,o=100*Math.pow(10,18),i.price=o/Math.pow(10,18),e[r].split(".")[0].length<5&&(i.price=""),s.push(i);case 44:if(".ht"!=e[r].substr(-3)||"HT"!=this.chainType){t.next=63;break}return t.next=47,n.exists(e[r]);case 47:return u=t.sent,i.isExist=u,i.resolver="",i.tokenURI=e[r],i.owner="owner",i.isPremium=e[r].split(".")[0].length<=5,this.isShoudMoreLong=e[r].split(".")[0].length<5,t.next=59,this.web3BuyInstance.price(e[r].split(".")[0]);case 59:o=t.sent,i.price=o/Math.pow(10,18),e[r].split(".")[0].length<5&&(i.price=""),s.push(i);case 63:r++,t.next=5;break;case 66:this.domains=s,this.closeLoading();case 68:case"end":return t.stop()}}),t,this)}))),function(t){return m.apply(this,arguments)}),price:function(t){var e=t.length-4;return 5==e?250:6==e?100:7==e?60:e>=8?30:void 0},openLoading:function(){var t=this.$t("app.searching");this.loading=this.$loading({lock:!0,text:t,spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});var e=this;setTimeout((function(){e.closeLoading()}),1e4)},closeLoading:function(){this.loading.close()},awaitWraper:function(t){return t.then((function(t){return[null,t]})).catch((function(t){return[t,null]}))},onSubmit:function(){this.$message("submit!")},onCancel:function(){this.$message({message:"cancel!",type:"warning"})}}}},TiIK:function(t,e,n){"use strict";n.r(e);var a=n("1BVE"),s=n("Jml6");for(var r in s)"default"!==r&&function(t){n.d(e,t,(function(){return s[t]}))}(r);n("pc+S");var i=n("KHd+"),u=Object(i.a)(s.default,a.a,a.b,!1,null,"7d1f7ba4",null);u.options.__file="search.vue",e.default=u.exports},V7M8:function(t){t.exports=[{inputs:[{internalType:"contract MinterController",name:"minterController",type:"address"},{internalType:"address",name:"resolver",type:"address"},{internalType:"contract ERC20Interface",name:"usdt",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"_usdtToken",outputs:[{internalType:"contract ERC20Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"addPrivilege",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"removePrivilege",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address payable",name:"_newOwner",type:"address"}],name:"changeOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"label",type:"string"}],name:"cfxBuy",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"string",name:"label",type:"string"}],name:"cfxPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"label",type:"string"}],name:"buy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"label",type:"string"}],name:"price",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"string",name:"s",type:"string"}],name:"strlen",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"}]},WEEN:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a="0.3s height ease-in-out, 0.3s padding-top ease-in-out, 0.3s padding-bottom ease-in-out",s={"before-enter":function(t){t.style.transition=a,t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0},enter:function(t){t.dataset.oldOverflow=t.style.overflow,0!==t.scrollHeight?(t.style.height=t.scrollHeight+"px",t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom):(t.style.height="",t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom),t.style.overflow="hidden"},"after-enter":function(t){t.style.transition="",t.style.height="",t.style.overflow=t.dataset.oldOverflow},"before-leave":function(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.dataset.oldOverflow=t.style.overflow,t.style.height=t.scrollHeight+"px",t.style.overflow="hidden"},leave:function(t){0!==t.scrollHeight&&(t.style.transition=a,t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0)},"after-leave":function(t){t.style.transition="",t.style.height="",t.style.overflow=t.dataset.oldOverflow,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom}};e.default={name:"collapseTransition",functional:!0,render:function(t,e){var n=e.children;return t("transition",{on:s},n)}}},YgiN:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfluxNS=void 0;var a=u(n("14Xm")),s=u(n("D3Ub")),r=u(n("iCc5")),i=u(n("V7oC"));n("kB5k");function u(t){return t&&t.__esModule?t:{default:t}}var o=n("ewEw"),p=n("jzF0"),c=p.Conflux,l=p.format,d=n("LAvi"),y=n("ooB7"),f=n("MGCb"),h=e.ConfluxNS=function(){function t(e,n){(0,r.default)(this,t),this.conflux=window.confluxJS,this.confluxReader=new c({url:o[e][n].provider,defaultGasPrice:100,defaultGas:1e6}),this.registerReader=this.confluxReader.Contract({abi:y,address:o[e][n].registry}),this.registerWriter=this.conflux.Contract({abi:y,address:o[e][n].registry}),this.resolverWriter=null}var e,n,u,p,h,m,v,b,g,x,T,w,k,_,I,C,M,P,R,B,S,A,U,$,D,O,N,E,F;return(0,i.default)(t,[{key:"totalSupply",value:(F=(0,s.default)(a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.registerReader.totalSupply().call();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(){return F.apply(this,arguments)})},{key:"name",value:(E=(0,s.default)(a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.registerReader.name().call();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(){return E.apply(this,arguments)})},{key:"tokenByIndex",value:(N=(0,s.default)(a.default.mark((function t(e){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.registerReader.tokenByIndex(e).call();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(t){return N.apply(this,arguments)})},{key:"balanceOf",value:(O=(0,s.default)(a.default.mark((function t(e){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.awaitWraper(this.registerReader.balanceOf(e).call());case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(t){return O.apply(this,arguments)})},{key:"tokenOfOwnerByIndex",value:(D=(0,s.default)(a.default.mark((function t(e,n){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.registerReader.tokenOfOwnerByIndex(e,n).call();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(t,e){return D.apply(this,arguments)})},{key:"approve",value:($=(0,s.default)(a.default.mark((function t(e,n){var s,r,i;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=d.hash(n),r=this.registerWriter.approve(e,s),t.next=4,r.estimateGasAndCollateral({from:this.conflux.defaultAccount});case 4:return i=t.sent,t.next=7,r.sendTransaction({from:this.conflux.defaultAccount,value:0,gas:l.big(i.gasUsed).times(1.1).toFixed(0),gasPrice:1,storageLimit:i.storageCollateralized}).executed();case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t,this)}))),function(t,e){return $.apply(this,arguments)})},{key:"getApproved",value:(U=(0,s.default)(a.default.mark((function t(e){var n;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=d.hash(e),t.next=3,this.registerReader.getApproved(n).call();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)}))),function(t){return U.apply(this,arguments)})},{key:"tokenURIByIndexAndEnd",value:(A=(0,s.default)(a.default.mark((function t(e,n,s){var r,i,u,o,p;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=new Array,i=n;case 2:if(!(i<s)){t.next=16;break}return u={},t.next=6,this.tokenOfOwnerByIndex(e,i);case 6:return o=t.sent,t.next=9,this.tokenURI(o);case 9:p=t.sent,u.tokenURI=p,u.tokenId=o,r.push(u);case 13:i++,t.next=2;break;case 16:return t.abrupt("return",r);case 17:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return A.apply(this,arguments)})},{key:"allTokenURI",value:(S=(0,s.default)(a.default.mark((function t(e){var n,s,r,i,u,o;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.balanceOf(e);case 2:if(0!=(n=t.sent)){t.next=5;break}return t.abrupt("return",[]);case 5:s=new Array,r=0;case 7:if(!(r<n)){t.next=21;break}return i={},t.next=11,this.tokenOfOwnerByIndex(e,r);case 11:return u=t.sent,t.next=14,this.tokenURI(u);case 14:o=t.sent,i.tokenURI=o,i.tokenId=u,s.push(i);case 18:r++,t.next=7;break;case 21:return t.abrupt("return",s);case 22:case"end":return t.stop()}}),t,this)}))),function(t){return S.apply(this,arguments)})},{key:"owner",value:(B=(0,s.default)(a.default.mark((function t(e){var n;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=d.hash(e),t.next=3,this.awaitWraper(this.registerReader.ownerOf(n).call());case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)}))),function(t){return B.apply(this,arguments)})},{key:"exists",value:(R=(0,s.default)(a.default.mark((function t(e){var n;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=d.hash(e),t.next=3,this.awaitWraper(this.registerReader.exists(n).call());case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)}))),function(t){return R.apply(this,arguments)})},{key:"awaitWraper",value:function(t){return t.then((function(t){return t})).catch((function(t){return t}))}},{key:"tokenURI",value:(P=(0,s.default)(a.default.mark((function t(e){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.awaitWraper(this.registerReader.tokenURI(e).call());case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(t){return P.apply(this,arguments)})},{key:"setOwner",value:(M=(0,s.default)(a.default.mark((function t(e,n){var s,r,i;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=d.hash(n),r=this.registerWriter.setOwner(e,s),t.next=4,r.estimateGasAndCollateral({from:this.conflux.defaultAccount});case 4:return i=t.sent,t.next=7,r.sendTransaction({from:this.conflux.defaultAccount,value:0,gas:l.big(i.gasUsed).times(1.1).toFixed(0),gasPrice:1,storageLimit:i.storageCollateralized}).executed();case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t,this)}))),function(t,e){return M.apply(this,arguments)})},{key:"mintSubURI",value:(C=(0,s.default)(a.default.mark((function t(e,n,s){var r,i,u;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=d.hash(n),i=this.registerWriter.mintSubURI(e,r,s),t.next=4,i.estimateGasAndCollateral({from:this.conflux.defaultAccount});case 4:return u=t.sent,t.next=7,i.sendTransaction({from:this.conflux.defaultAccount,value:0,gas:l.big(u.gasUsed).times(1.1).toFixed(0),gasPrice:1,storageLimit:u.storageCollateralized}).executed();case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return C.apply(this,arguments)})},{key:"getSubTokenURI",value:(I=(0,s.default)(a.default.mark((function t(e){var n,s,r,i,u,o;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=d.hash(e),t.next=3,this.registerReader.subTokenIdCount(n);case 3:if(s=t.sent,r=[],s.data){t.next=20;break}i=0;case 7:if(!(i<s)){t.next=18;break}return t.next=10,this.registerReader.subTokenIdByIndex(n,i);case 10:return u=t.sent,t.next=13,this.tokenURI(u);case 13:o=t.sent,r.push(o);case 15:i++,t.next=7;break;case 18:t.next=20;break;case 20:return t.abrupt("return",r);case 21:case"end":return t.stop()}}),t,this)}))),function(t){return I.apply(this,arguments)})},{key:"getSubTokenCount",value:(_=(0,s.default)(a.default.mark((function t(e){var n;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=d.hash(e),t.next=3,this.awaitWraper(this.registerReader.subTokenIdCount(n));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)}))),function(t){return _.apply(this,arguments)})},{key:"burnSubToken",value:(k=(0,s.default)(a.default.mark((function t(e,n){var s,r;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=this.registerWriter.burnSubURI(e,n),t.next=3,s.estimateGasAndCollateral({from:this.conflux.defaultAccount});case 3:return r=t.sent,t.next=6,s.sendTransaction({from:this.conflux.defaultAccount,value:0,gas:l.big(r.gasUsed).times(1.1).toFixed(0),gasPrice:1,storageLimit:r.storageCollateralized}).executed();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)}))),function(t,e){return k.apply(this,arguments)})},{key:"setResolver",value:(w=(0,s.default)(a.default.mark((function t(e,n){var s,r,i;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=d.hash(e),r=this.registerWriter.setResolver(s,n),t.next=4,r.estimateGasAndCollateral({from:this.conflux.defaultAccount});case 4:return i=t.sent,t.next=7,r.sendTransaction({from:this.conflux.defaultAccount,value:0,gas:l.big(i.gasUsed).times(1.1).toFixed(0),gasPrice:1,storageLimit:i.storageCollateralized}).executed();case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t,this)}))),function(t,e){return w.apply(this,arguments)})},{key:"resolver",value:(T=(0,s.default)(a.default.mark((function t(e){var n,s;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=d.hash(e),t.next=3,this.awaitWraper(this.registerReader.resolverOf(n).call());case 3:return s=t.sent,t.abrupt("return",s);case 5:case"end":return t.stop()}}),t,this)}))),function(t){return T.apply(this,arguments)})},{key:"address",value:(x=(0,s.default)(a.default.mark((function t(e,n){var s,r;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=d.hash(e),t.next=3,this.getResolverReader(e);case 3:return r=t.sent,t.next=6,this.awaitWraper(r.get(s,n).call());case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)}))),function(t,e){return x.apply(this,arguments)})},{key:"set",value:(g=(0,s.default)(a.default.mark((function t(e,n,s){var r,i,u,o,p;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=d.hash(e),t.next=3,this.resolver(e);case 3:return i=t.sent,u=this.conflux.Contract({abi:f,address:i}),o=u.set(r,n,s),t.next=8,o.estimateGasAndCollateral({from:this.conflux.defaultAccount});case 8:return p=t.sent,t.next=11,o.sendTransaction({from:this.conflux.defaultAccount,value:0,gas:l.big(p.gasUsed).times(1.1).toFixed(0),gasPrice:1,storageLimit:p.storageCollateralized}).executed();case 11:return t.abrupt("return",t.sent);case 12:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return g.apply(this,arguments)})},{key:"get",value:(b=(0,s.default)(a.default.mark((function t(e,n){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.address(e,n));case 1:case"end":return t.stop()}}),t,this)}))),function(t,e){return b.apply(this,arguments)})},{key:"setMulti",value:(v=(0,s.default)(a.default.mark((function t(e,n,s){var r,i,u,o,p;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=d.hash(e),t.next=3,this.resolver(e);case 3:return i=t.sent,u=this.conflux.Contract({abi:f,address:i}),o=u.setMulti(r,n,s),t.next=8,o.estimateGasAndCollateral({from:this.conflux.defaultAccount});case 8:return p=t.sent,t.next=11,o.sendTransaction({from:this.conflux.defaultAccount,value:0,gas:l.big(p.gasUsed).times(1.1).toFixed(0),gasPrice:1,storageLimit:p.storageCollateralized}).executed().catch((function(t){throw t}));case 11:return t.abrupt("return",t.sent);case 12:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return v.apply(this,arguments)})},{key:"getMulti",value:(m=(0,s.default)(a.default.mark((function t(e,n){var s,r;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=d.hash(e),t.next=3,this.getResolverReader(e);case 3:return r=t.sent,t.next=6,this.awaitWraper(r.getMulti(s,n).call());case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)}))),function(t,e){return m.apply(this,arguments)})},{key:"reset",value:(h=(0,s.default)(a.default.mark((function t(e){var n,s,r,i,u;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=d.hash(e),t.next=3,this.resolver(e);case 3:return s=t.sent,r=this.conflux.Contract({abi:f,address:s}),t.next=7,r.reset(n);case 7:return i=t.sent,t.next=10,i.estimateGasAndCollateral({from:this.conflux.defaultAccount});case 10:return u=t.sent,t.next=13,i.sendTransaction({from:this.conflux.defaultAccount,value:0,gas:l.big(u.gasUsed).times(1.1).toFixed(0),gasPrice:1,storageLimit:u.storageCollateralized}).executed();case 13:return t.abrupt("return",t.sent);case 14:case"end":return t.stop()}}),t,this)}))),function(t){return h.apply(this,arguments)})},{key:"getResolver",value:(p=(0,s.default)(a.default.mark((function t(e){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.conflux.Contract({abi:f,address:e}));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return p.apply(this,arguments)})},{key:"getResolverReader",value:(u=(0,s.default)(a.default.mark((function t(e){var n;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.resolver(e);case 2:return n=t.sent,console.log(n),t.abrupt("return",this.confluxReader.Contract({abi:f,address:n}));case 5:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)})},{key:"allRecords",value:(n=(0,s.default)(a.default.mark((function t(e){var n,s;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=d.hash(e),t.next=3,this.getResolverReader(e);case 3:return s=t.sent,t.next=6,this.awaitWraper(s.allRecords(n).call());case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"allKeys",value:(e=(0,s.default)(a.default.mark((function t(e){var n,s;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=d.hash(e),t.next=3,this.getResolverReader(e);case 3:return s=t.sent,t.next=6,this.awaitWraper(s.allKeys(n).call());case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}],[{key:"namehash",value:function(t){return d.hash(t)}}]),t}();e.default=h},o3DP:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Web3ERC20=void 0;var a=p(n("14Xm")),s=p(n("D3Ub")),r=p(n("iCc5")),i=p(n("V7oC")),u=p(n("meUc")),o=n("kB5k");n("3Ci3");function p(t){return t&&t.__esModule?t:{default:t}}var c=n("ewEw"),l=n("KCoV"),d=e.Web3ERC20=function(){function t(e,n,a){if((0,r.default)(this,t),this.web3=new u.default(window.detectProvider),this.trustUSDT=c[n][a].trustUSDT,console.log(e),""!=e)this.account=e;else{var s=this;this.web3.eth.getAccounts((function(t,e){s.account=e[0]}))}this.contract=new this.web3.eth.Contract(l,this.trustUSDT),this.contractReader=new this.web3.eth.Contract(l,this.trustUSDT);var i=this;this.web3.eth.getGasPrice().then((function(t){i.defaultGasPrice=t}))}var e,n,p,d;return(0,i.default)(t,[{key:"balanceOf",value:(d=(0,s.default)(a.default.mark((function t(e){var n;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.contractReader.methods.balanceOf(e).call();case 2:return n=t.sent,t.next=5,this.getPrecision();case 5:return t.sent,t.abrupt("return",new o.BigNumber(n));case 7:case"end":return t.stop()}}),t,this)}))),function(t){return d.apply(this,arguments)})},{key:"getPrecision",value:(p=(0,s.default)(a.default.mark((function t(){var e;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.contractReader.methods.decimals.call();case 2:return e=t.sent,t.abrupt("return",(0,o.BigNumber)(10).pow((0,o.BigNumber)(e)));case 4:case"end":return t.stop()}}),t,this)}))),function(){return p.apply(this,arguments)})},{key:"allowance",value:(n=(0,s.default)(a.default.mark((function t(e,n){var s;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.contractReader.methods.allowance(e,n).call();case 2:return s=t.sent,t.next=5,this.getPrecision();case 5:return t.sent,t.abrupt("return",(0,o.BigNumber)(s).div(1e19));case 7:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})},{key:"approve",value:(e=(0,s.default)(a.default.mark((function t(e,n,s){var r,i,u;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.defaultGasPrice,i=this.contract.methods.approve(e,n),t.next=4,i.estimateGas({value:0,from:this.account,to:this.trustUSDT});case 4:return u=t.sent,t.abrupt("return",i.send({from:this.account,gasPrice:r,gas:Math.round(1.1*u)},s));case 6:case"end":return t.stop()}}),t,this)}))),function(t,n,a){return e.apply(this,arguments)})}]),t}();e.default=d},ooB7:function(t){t.exports=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"resolver",type:"address"}],name:"NewResolver",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"router",type:"address"}],name:"NewRouter",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"string",name:"tokenUri",type:"string"}],name:"NewURI",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"keyHash",type:"uint256"}],name:"Sync",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"_tokenURIs",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"baseURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"grantMinterRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"revokeMinterRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"isApprovedOrOwner",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"root",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"index",type:"uint256"}],name:"subTokenIdByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"subTokenIdCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"baseURI",type:"string"}],name:"setBaseURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"resolver",type:"address"}],name:"setResolver",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"resolver",type:"address"}],name:"setResolverByController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"resolverOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"router",type:"address"}],name:"setRouter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"router",type:"address"}],name:"setRouterByController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"routerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"keyHash",type:"uint256"}],name:"sync",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"label",type:"string"}],name:"transferURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"label",type:"string"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"label",type:"string"},{internalType:"string",name:"subLabel",type:"string"}],name:"transferSubURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"label",type:"string"},{internalType:"string",name:"subLabel",type:"string"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferSubURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"setOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"label",type:"string"}],name:"mintSubURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"label",type:"string"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeMintSubURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"label",type:"string"}],name:"mintSubURIByController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"label",type:"string"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeMintSubURIByController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"label",type:"string"}],name:"burnSubURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"label",type:"string"}],name:"burnSubURIByController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"label",type:"string"}],name:"subTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"exists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}]},"pc+S":function(t,e,n){"use strict";var a=n("xSaF");n.n(a).a},rfZM:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfluxERC20=void 0;var a=o(n("14Xm")),s=o(n("D3Ub")),r=o(n("iCc5")),i=o(n("V7oC")),u=n("kB5k");function o(t){return t&&t.__esModule?t:{default:t}}var p=n("ewEw"),c=n("jzF0"),l=c.Conflux,d=c.format,y=n("KCoV"),f=e.ConfluxERC20=function(){function t(e,n){(0,r.default)(this,t),this.conflux=window.confluxJS,this.confluxReader=new l({url:p[e][n].provider,defaultGasPrice:100,defaultGas:1e6}),this.contractReader=this.confluxReader.Contract({abi:y,address:p[e][n].trustUSDT}),this.contract=this.conflux.Contract({abi:y,address:p[e][n].trustUSDT})}var e,n,o,c,f,h,m,v;return(0,i.default)(t,[{key:"symbol",value:(v=(0,s.default)(a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.contractReader.symbol.call();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(){return v.apply(this,arguments)})},{key:"decimals",value:(m=(0,s.default)(a.default.mark((function t(){var e;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.contractReader.decimals.call();case 2:return e=t.sent,t.abrupt("return",(0,u.BigNumber)(e)/1);case 4:case"end":return t.stop()}}),t,this)}))),function(){return m.apply(this,arguments)})},{key:"getPrecision",value:(h=(0,s.default)(a.default.mark((function t(){var e;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.contractReader.decimals().call();case 2:return e=t.sent,t.abrupt("return",(0,u.BigNumber)(10).pow((0,u.BigNumber)(e)));case 4:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)})},{key:"balanceOf",value:(f=(0,s.default)(a.default.mark((function t(e){var n;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.contractReader.balanceOf(e).call();case 2:return n=t.sent,t.t0=new u.BigNumber(parseInt(n.toString(),10)),t.next=6,this.getPrecision();case 6:return t.t1=t.sent,t.abrupt("return",t.t0.div.call(t.t0,t.t1));case 8:case"end":return t.stop()}}),t,this)}))),function(t){return f.apply(this,arguments)})},{key:"approve",value:(c=(0,s.default)(a.default.mark((function t(e,n){var s,r;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=this.contract.approve(e,n),t.next=3,s.estimateGasAndCollateral({from:this.conflux.defaultAccount});case 3:return r=t.sent,t.next=6,s.sendTransaction({from:this.conflux.defaultAccount,value:0,gas:d.big(r.gasUsed).times(1.1).toFixed(0),gasPrice:1,storageLimit:r.storageCollateralized}).executed();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)}))),function(t,e){return c.apply(this,arguments)})},{key:"totalSupply",value:(o=(0,s.default)(a.default.mark((function t(){var e;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.contractReader.totalSupply().call();case 2:return e=t.sent,t.t0=new u.BigNumber(parseInt(e.toString(),10)),t.next=6,this.getPrecision();case 6:return t.t1=t.sent,t.abrupt("return",t.t0.div.call(t.t0,t.t1));case 8:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"totalSupply2",value:(n=(0,s.default)(a.default.mark((function t(){var e;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.contract.totalSupply().call();case 2:return e=t.sent,t.t0=new u.BigNumber(parseInt(e.toString(),10)),t.next=6,this.getPrecision();case 6:return t.t1=t.sent,t.abrupt("return",t.t0.div.call(t.t0,t.t1));case 8:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"allowance",value:(e=(0,s.default)(a.default.mark((function t(e,n){var s,r;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.contractReader.allowance(e,n).call();case 2:return s=t.sent,t.next=5,this.getPrecision();case 5:return r=t.sent,t.abrupt("return",(0,u.BigNumber)(s).div(r));case 7:case"end":return t.stop()}}),t,this)}))),function(t,n){return e.apply(this,arguments)})}]),t}();e.default=f},xSaF:function(t,e,n){},y4m1:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Web3Buy=void 0;var a=o(n("14Xm")),s=o(n("D3Ub")),r=o(n("iCc5")),i=o(n("V7oC")),u=o(n("meUc"));n("kB5k"),n("3Ci3");function o(t){return t&&t.__esModule?t:{default:t}}var p=n("ewEw"),c=(n("KCoV"),n("OGYZ")),l=e.Web3Buy=function(){function t(e,n,a){(0,r.default)(this,t),this.web3=new u.default(window.detectProvider),this.buyMinter=p[n][a].buyMinter,this.account=e,this.contract=new this.web3.eth.Contract(c,p[n][a].buyMinter);var s=this;this.web3.eth.getGasPrice().then((function(t){s.defaultGasPrice=t}))}var e,n;return(0,i.default)(t,[{key:"price",value:(n=(0,s.default)(a.default.mark((function t(e){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.contract.methods.price(e).call();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"buy",value:(e=(0,s.default)(a.default.mark((function t(e,n){var s,r,i;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=this.defaultGasPrice,r=this.contract.methods.buy(e),t.next=4,r.estimateGas({value:0,from:this.account,to:this.buyMinter});case 4:return i=t.sent,t.abrupt("return",r.send({from:this.account,gasPrice:s,gas:Math.round(1.1*i)},n));case 6:case"end":return t.stop()}}),t,this)}))),function(t,n){return e.apply(this,arguments)})}]),t}();e.default=l}}]);